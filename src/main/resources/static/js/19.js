webpackJsonp([19],{254:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(292),l=n(323),r=n(23),u=r(a.a,l.a,!1,null,null,null);t.default=u.exports},292:function(e,t,n){"use strict";var a=n(57),l=n.n(a),r=n(108);t.a={created:function(){var e=this;n.i(r.c)({pageNum:this.pageNum,pageSize:this.pageSize}).then(function(t){e.menus=t.data.list,e.pageNum=t.data.pageNum,e.pageSize=t.data.pageSize,e.total=t.data.total})},methods:{loadMenuList:function(){var e=this;n.i(r.c)({pageNum:this.pageNum,pageSize:this.pageSize}).then(function(t){e.menus=t.data.list,e.pageNum=t.data.pageNum,e.pageSize=t.data.pageSize,e.total=t.data.total})},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){var t=this;this.pageNum=e,n.i(r.c)({pageNum:this.pageNum,pageSize:this.pageSize}).then(function(e){t.menus=e.data.list,t.total=e.data.total})},handaleDelete:function(e){var t=this;this.$confirm("此操作将永久删除该菜单项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n.i(r.d)({id:e.id}).then(function(e){var n=e.meta;e.data;!1===n.success?t.$message.error(n.message):(t.$message({message:"删除成功",type:"success"}),t.loadMenuList())})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})},handleEdit:function(e){var t=this;this.dialogEditVisible=!0,n.i(r.e)().then(function(e){t.parents=e.data}),this.currentMenu=JSON.parse(l()(e))},handleDialogEdit:function(){var e=this;n.i(r.f)(this.currentMenu).then(function(t){e.dialogEditVisible=!1;var n=t.meta;t.data;!1===n.success?e.$message.error(n.message):(e.$message({message:"操作成功",type:"success"}),e.loadMenuList(),e.currentMenu={})})},handleInsert:function(){var e=this;this.dialogInsertVisible=!0,n.i(r.e)().then(function(t){e.parents=t.data}),this.currentMenu={}},handleDialogInsert:function(){var e=this;console.log(this.currentMenu),n.i(r.g)(this.currentMenu).then(function(t){e.dialogInsertVisible=!1;var n=t.meta;t.data;!1===n.success?e.$message.error(n.message):(e.$message({message:"操作成功",type:"success"}),e.loadMenuList(),e.currentMenu={})})},fmtStatus:function(e,t){var n=e[t.property];return 2==n?"禁用":1==n?"可用":void 0}},data:function(){return{pageNum:1,total:0,pageSize:7,menus:[],parents:[],dialogEditVisible:!1,dialogInsertVisible:!1,dialogSetMenuVisible:!1,currentMenu:{},statusOptions:[{value:1,label:"可用"},{value:2,label:"禁用"}]}}}},323:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[n("el-button",{staticStyle:{margin:"7px"},on:{click:e.handleInsert}},[e._v("添加菜单项")])],1),e._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.menus}},[n("el-table-column",{attrs:{prop:"name",label:"名字",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"component",label:"组件名",width:"180"}}),e._v(" "),n("el-table-column",{attrs:{prop:"url",label:"url"}}),e._v(" "),n("el-table-column",{attrs:{prop:"parent.name",label:"父菜单"}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:"是否可用",formatter:e.fmtStatus}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){e.handleEdit(t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){e.handaleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.pageNum,"page-size":e.pageSize,layout:"total, prev, pager, next",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.pageNum=t}}})],1),e._v(" "),n("el-dialog",{attrs:{title:"修改",visible:e.dialogEditVisible},on:{"update:visible":function(t){e.dialogEditVisible=t}}},[n("el-form",{ref:"currentMenuEditForm",attrs:{model:e.currentMenu,"label-position":"left"}},[n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.name,callback:function(t){e.$set(e.currentMenu,"name",t)},expression:"currentMenu.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"组件名"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.component,callback:function(t){e.$set(e.currentMenu,"component",t)},expression:"currentMenu.component"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"路径"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.path,callback:function(t){e.$set(e.currentMenu,"path",t)},expression:"currentMenu.path"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"API地址"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.url,callback:function(t){e.$set(e.currentMenu,"url",t)},expression:"currentMenu.url"}})],1),e._v(" "),null!=e.currentMenu.parent?n("el-form-item",{attrs:{label:"父组件"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currentMenu.parentId,callback:function(t){e.$set(e.currentMenu,"parentId",t)},expression:"currentMenu.parentId"}},e._l(e.parents,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"是否可用"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currentMenu.status,callback:function(t){e.$set(e.currentMenu,"status",t)},expression:"currentMenu.status"}},e._l(e.statusOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogEditVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogEdit}},[e._v("确 定")])],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"新增",visible:e.dialogInsertVisible},on:{"update:visible":function(t){e.dialogInsertVisible=t}}},[n("el-form",{ref:"currentMenuInsertForm",attrs:{model:e.currentMenu,"label-position":"left"}},[n("el-form-item",{attrs:{label:"名字"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.name,callback:function(t){e.$set(e.currentMenu,"name",t)},expression:"currentMenu.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"组件名"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.component,callback:function(t){e.$set(e.currentMenu,"component",t)},expression:"currentMenu.component"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"路径"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.path,callback:function(t){e.$set(e.currentMenu,"path",t)},expression:"currentMenu.path"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"API地址"}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.currentMenu.url,callback:function(t){e.$set(e.currentMenu,"url",t)},expression:"currentMenu.url"}})],1),e._v(" "),0!=e.currentMenu.parentId?n("el-form-item",{attrs:{label:"父组件"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currentMenu.parentId,callback:function(t){e.$set(e.currentMenu,"parentId",t)},expression:"currentMenu.parentId"}},e._l(e.parents,function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1):e._e(),e._v(" "),n("el-form-item",{attrs:{label:"是否可用"}},[n("el-select",{attrs:{placeholder:"请选择"},model:{value:e.currentMenu.status,callback:function(t){e.$set(e.currentMenu,"status",t)},expression:"currentMenu.status"}},e._l(e.statusOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogInsertVisible=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.handleDialogInsert}},[e._v("确 定")])],1)],1)],1)},l=[],r={render:a,staticRenderFns:l};t.a=r}});
//# sourceMappingURL=19.js.map?a0f722214e2e389c9041