webpackJsonp([3],{246:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(284),r=a(313),i=a(23),o=i(n.a,r.a,!1,null,null,null);e.default=o.exports},265:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"e",function(){return l}),a.d(e,"a",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"d",function(){return s}),a.d(e,"f",function(){return d});var n=a(18),r=a.n(n),i="/api/laboratorySheet",o=function(t){return r.a.get(i+"/list",{params:t}).then(function(t){return t.data})},l=function(t){return r.a.get(i+"/list/byOrgan",{params:t}).then(function(t){return t.data})},c=function(t){return r.a.get(i+"/all",{params:t}).then(function(t){return t.data})},u=function(t){return r.a.post(i+"/suggest/set",t).then(function(t){return t.data})},s=function(t){return r.a.post(i+"/add/byDoctor",t).then(function(t){return t.data})},d=function(t){return r.a.post(i+"/add/byPatient",t).then(function(t){return t.data})}},266:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"e",function(){return l}),a.d(e,"c",function(){return c}),a.d(e,"b",function(){return u}),a.d(e,"d",function(){return s}),a.d(e,"f",function(){return d});var n=a(18),r=a.n(n),i="/api/organ",o=function(t){return r.a.get(i+"/list",{params:t}).then(function(t){return t.data})},l=function(t){return r.a.get(i+"/all",{params:t}).then(function(t){return t.data})},c=function(t){return r.a.post(i+"/update",t).then(function(t){return t.data})},u=function(t){return r.a.post(i+"/add",t).then(function(t){return t.data})},s=function(t){return r.a.get(i+"/"+t.id+"/delete").then(function(t){return t.data})},d=function(t){return r.a.get(i+"/"+t.id).then(function(t){return t.data})}},267:function(t,e,a){"use strict";a.d(e,"b",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"a",function(){return c}),a.d(e,"c",function(){return u}),a.d(e,"e",function(){return s}),a.d(e,"d",function(){return d});var n=a(18),r=a.n(n),i="/api/specific",o=function(t){return r.a.get(i+"/list",{params:t}).then(function(t){return t.data})},l=function(t){return r.a.get(i+"/list/byOrganId/"+t.id).then(function(t){return t.data})},c=function(t){return r.a.get(i+"/all",{params:t}).then(function(t){return t.data})},u=function(t){return r.a.post(i+"/update",t).then(function(t){return t.data})},s=function(t){return r.a.post(i+"/add",t).then(function(t){return t.data})},d=function(t){return r.a.get(i+"/"+t.id+"/delete").then(function(t){return t.data})}},268:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"e",function(){return l}),a.d(e,"b",function(){return c}),a.d(e,"d",function(){return u}),a.d(e,"c",function(){return s});var n=a(18),r=a.n(n),i="/api/specificItem",o=function(t){return r.a.get(i+"/list",{params:t}).then(function(t){return t.data})},l=function(t){return r.a.get(i+"/"+t.lsId+"/lsId/list",{params:t}).then(function(t){return t.data})},c=function(t){return r.a.post(i+"/update",t).then(function(t){return t.data})},u=function(t){return r.a.post(i+"/add",t).then(function(t){return t.data})},s=function(t){return r.a.get(i+"/"+t.id+"/delete").then(function(t){return t.data})}},273:function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"c",function(){return c}),a.d(e,"d",function(){return u}),a.d(e,"b",function(){return s}),a.d(e,"e",function(){return d});var n=a(18),r=a.n(n),i="/api/hr",o=function(t){return r.a.get(i+"/list",{params:t}).then(function(t){return t.data})},l=function(t){return r.a.get(i+"/list/byRoleName",{params:t}).then(function(t){return t.data})},c=function(t){return r.a.post(i+"/update",t).then(function(t){return t.data})},u=function(t){return r.a.post(i+"/add",t).then(function(t){return t.data})},s=function(t){return r.a.get(i+"/"+t.id+"/delete").then(function(t){return t.data})},d=function(t){return r.a.post(i+"/setRoles",t).then(function(t){return t.data})}},284:function(t,e,a){"use strict";var n=a(57),r=a.n(n),i=a(265),o=a(268),l=a(267),c=a(107),u=a(266),s=a(273);e.a={created:function(){var t=this;a.i(i.e)({pageNum:this.pageNum,pageSize:this.pageSize,organId:this.organId}).then(function(e){t.laboratorySheets=e.data.list,t.pageNum=e.data.pageNum,t.pageSize=e.data.pageSize,t.total=e.data.total})},methods:{loadLaboratorySheetList:function(){var t=this;a.i(i.e)({pageNum:this.pageNum,pageSize:this.pageSize,organId:this.organId}).then(function(e){t.laboratorySheets=e.data.list,t.pageNum=e.data.pageNum,t.pageSize=e.data.pageSize,t.total=e.data.total})},loadSpecificItemListByLsId:function(){var t=this;a.i(o.e)({pageNum:this.lookPageNum,pageSize:this.lookPageSize,lsId:this.currentLaboratorySheet.id}).then(function(e){t.specificItems=e.data.list,t.lookPageNum=e.data.pageNum,t.lookPageSize=e.data.pageSize,t.lookTotal=e.data.total})},handleSizeChange:function(t){console.log("每页 "+t+" 条")},handleCurrentChange:function(t){var e=this;this.pageNum=t,a.i(i.e)({pageNum:this.pageNum,pageSize:this.pageSize,organId:this.organId}).then(function(t){e.laboratorySheets=t.data.list,e.total=t.data.total})},handleLookCurrentChange:function(t){var e=this;this.lookPageNum=t,a.i(o.e)({pageNum:this.lookPageNum,pageSize:this.lookPageSize,lsId:this.currentLaboratorySheet.id}).then(function(t){e.specificItems=t.data.list,e.lookPageNum=t.data.pageNum,e.lookPageSize=t.data.pageSize,e.lookTotal=t.data.total})},handleLook:function(t){var e=this;this.currentLaboratorySheet=t,a.i(o.e)({pageNum:this.lookPageNum,pageSize:this.lookPageSize,lsId:t.id}).then(function(t){e.specificItems=t.data.list,e.lookPageNum=t.data.pageNum,e.lookPageSize=t.data.pageSize,e.lookTotal=t.data.total}),this.dialogLookVisible=!0},handleSetSuggest:function(t){this.currentLaboratorySheet=JSON.parse(r()(t)),this.dialogSetSuggestVisible=!0},handleDialogSetSuggest:function(){var t=this;if(this.currentLaboratorySheet.suggest.length>256)return void this.$message.error("建议长度不能大于256");a.i(i.c)({suggest:this.currentLaboratorySheet.suggest,lsId:this.currentLaboratorySheet.id}).then(function(e){t.dialogSetSuggestVisible=!1;var a=e.meta;e.data;!1===a.success?t.$message.error(a.message):(t.$message({message:"操作成功",type:"success"}),t.loadLaboratorySheetList(),t.currentLaboratorySheet={})})},handleSpecificItemInsert:function(){var t=this;this.dialogSpecificItemInsertVisible=!0,this.currentSpecificItem={},this.currentSpecificItem.lsId=this.currentLaboratorySheet.id,a.i(l.f)({id:this.organId}).then(function(e){t.specifics=e.data})},handleDialogSpecificItemInsert:function(){var t=this;a.i(o.d)(this.currentSpecificItem).then(function(e){t.dialogSpecificItemInsertVisible=!1;var a=e.meta;e.data;!1===a.success?t.$message.error(a.message):(t.$message({message:"操作成功",type:"success"}),t.loadSpecificItemListByLsId(),t.currentSpecificItem={})})},fmtStatus:function(t,e){var a=t[e.property];return 2==a?"已处理":1==a?"待处理":void 0},fmtTips:function(t,e){var a=t[e.property];return 2==a?"平均值内":3==a?"偏高":4==a?"偏低":void 0},changePatient:function(t){console.log(t);var e={};e=this.patients.find(function(e){if(e.id===t)return e}),this.currentPatient=e,console.log(e)},handleInsert:function(){var t=this;this.currentLaboratorySheet={},this.currentLaboratorySheet.organId=this.organId,this.dialogInsertVisible=!0,a.i(c.h)().then(function(e){t.currentPatient=e.data}),a.i(s.f)({roleName:"ROLE_heart_doctor"}).then(function(e){t.doctors=e.data}),a.i(u.f)({id:this.organId}).then(function(e){t.organ=e.data})},handleDialogInsert:function(){var t=this;a.i(i.f)(this.currentLaboratorySheet).then(function(e){t.dialogInsertVisible=!1;var a=e.meta;e.data;!1===a.success?t.$message.error(a.message):(t.$message({message:"操作成功",type:"success"}),t.loadLaboratorySheetList(),t.currentLaboratorySheet={},t.currentPatient={})})},querySearch:function(t,e){var a=this.patients;e(t?a.filter(this.createFilter(t)):a)},createFilter:function(t){return function(e){return 0===e.value.toLowerCase().indexOf(t.toLowerCase())}},handleSelect:function(t){console.log(t),this.currentPatient=t,console.log(this.currentLaboratorySheet)}},data:function(){return{organId:1,currentIdCard:"",pageNum:1,total:0,pageSize:5,lookPageNum:1,lookTotal:0,lookPageSize:5,laboratorySheets:[],specificItems:[],specifics:[],doctors:[],organ:{},patient:{},dialogEditVisible:!1,dialogInsertVisible:!1,dialogLookVisible:!1,dialogSetSuggestVisible:!1,dialogSpecificItemInsertVisible:!1,currentLaboratorySheet:{},currentPatient:{},currentSpecificItem:{},statusOptions:[{value:1,label:"可用"},{value:2,label:"禁用"}]}}}},313:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{staticStyle:{margin:"7px"},on:{click:t.handleInsert}},[t._v("申请检验单")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.laboratorySheets}},[a("el-table-column",{attrs:{prop:"id",label:"单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"doctor.name",label:"诊断医生"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patient.name",label:"病人名字"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patient.idCard",label:"病人身份证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"patient.phone",label:"病人手机号"}}),t._v(" "),a("el-table-column",{attrs:{label:"系统建议"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{width:"200",trigger:"hover",placement:"top"}},[a("p",[t._v(t._s(e.row.systemSuggest))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",[t._v("系统建议")])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"医生建议","max-height":"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{width:"200",trigger:"hover",placement:"top"}},[a("p",[t._v(t._s(e.row.suggest))]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",[t._v("医生建议")])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"是否处理",formatter:t.fmtStatus}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleLook(e.row)}}},[t._v("查看检验结果")])]}}])})],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.pageNum,"page-size":t.pageSize,layout:"total, prev, pager, next",total:t.total,background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.pageNum=e}}})],1),t._v(" "),a("el-dialog",{attrs:{title:"查看",visible:t.dialogLookVisible},on:{"update:visible":function(e){t.dialogLookVisible=e}}},[a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:24}},[a("el-button",{staticStyle:{margin:"7px"},on:{click:t.handleSpecificItemInsert}},[t._v("添加指标项")])],1),t._v(" "),a("el-table",{ref:"specificItemsTable",staticStyle:{width:"100%"},attrs:{data:t.specificItems}},[a("el-table-column",{attrs:{prop:"specific.zhName",label:"检测指标"}}),t._v(" "),a("el-table-column",{attrs:{prop:"result",label:"結果值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specific.ref",label:"浮动参考值"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tips",label:"是否偏离",width:"180",formatter:t.fmtTips}}),t._v(" "),a("el-table-column",{attrs:{prop:"specific.unit",label:"单位"}}),t._v(" "),a("el-table-column",{attrs:{prop:"checker",label:"检验人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"specific.inspection.zhName",label:"所属检验科目"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogLookVisible=!1}}},[t._v("確 定")])],1),t._v(" "),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":t.lookPageNum,"page-size":t.lookPageSize,layout:"total, prev, pager, next",total:t.lookTotal,background:""},on:{"current-change":t.handleLookCurrentChange,"update:currentPage":function(e){t.lookPageNum=e}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"新增",visible:t.dialogSpecificItemInsertVisible},on:{"update:visible":function(e){t.dialogSpecificItemInsertVisible=e}}},[a("el-form",{ref:"currentSpecificItemInsertForm",attrs:{model:t.currentSpecificItem,"label-position":"left"}},[a("el-form-item",{attrs:{label:"所属检验指标"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentSpecificItem.specificId,callback:function(e){t.$set(t.currentSpecificItem,"specificId",e)},expression:"currentSpecificItem.specificId"}},t._l(t.specifics,function(t){return a("el-option",{key:t.id,attrs:{label:t.zhName,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"结果值"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentSpecificItem.result,callback:function(e){t.$set(t.currentSpecificItem,"result",e)},expression:"currentSpecificItem.result"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"检验人"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.currentSpecificItem.checker,callback:function(e){t.$set(t.currentSpecificItem,"checker",e)},expression:"currentSpecificItem.checker"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属单号"}},[a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:t.currentSpecificItem.lsId,callback:function(e){t.$set(t.currentSpecificItem,"lsId",e)},expression:"currentSpecificItem.lsId"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogSpecificItemInsertVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDialogSpecificItemInsert}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"添加检验单",visible:t.dialogInsertVisible},on:{"update:visible":function(e){t.dialogInsertVisible=e}}},[a("el-form",{ref:"currentLaboratorySheetInsertForm",attrs:{model:t.currentLaboratorySheet,"label-position":"left"}},[a("el-form-item",{attrs:{label:"患者身份证号"}},[a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:t.currentPatient.idCard,callback:function(e){t.$set(t.currentPatient,"idCard",e)},expression:"currentPatient.idCard"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:t.currentPatient.name,callback:function(e){t.$set(t.currentPatient,"name",e)},expression:"currentPatient.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:t.currentPatient.phone,callback:function(e){t.$set(t.currentPatient,"phone",e)},expression:"currentPatient.phone"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"所属医生"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.currentLaboratorySheet.doctorId,callback:function(e){t.$set(t.currentLaboratorySheet,"doctorId",e)},expression:"currentLaboratorySheet.doctorId"}},t._l(t.doctors,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"所属器官检验单的类型"}},[a("el-input",{attrs:{readonly:"","auto-complete":"off"},model:{value:t.organ.zhName,callback:function(e){t.$set(t.organ,"zhName",e)},expression:"organ.zhName"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogInsertVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleDialogInsert}},[t._v("确 定")])],1)],1)],1)},r=[],i={render:n,staticRenderFns:r};e.a=i}});
//# sourceMappingURL=3.js.map?bafeacab78fd1837f612