{"version":3,"sources":["webpack:///js/12.js","webpack:///./src/components/Role.vue","webpack:///./src/api/role.js?4934","webpack:///src/components/Role.vue","webpack:///./src/components/Role.vue?d75c"],"names":["webpackJsonp","259","module","__webpack_exports__","__webpack_require__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Role_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7e78340a_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Role_vue__","normalizeComponent","Component","275","d","getRoleList","getAllRole","updateRole","setRoleMenu","insertRole","deleteRole","__WEBPACK_IMPORTED_MODULE_0_axios__","__WEBPACK_IMPORTED_MODULE_0_axios___default","n","base","params","a","get","then","res","data","post","id","297","__WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify___default","__WEBPACK_IMPORTED_MODULE_1__api_role__","__WEBPACK_IMPORTED_MODULE_2__api_menu__","created","_this","this","i","pageNum","pageSize","roles","list","total","methods","loadRoleList","_this2","handleSizeChange","val","console","log","handleCurrentChange","_this3","handleInsert","dialogInsertVisible","currentRole","handleDialogInsert","_this4","meta","success","$message","error","message","type","handleEdit","JSON","parse","dialogEditVisible","handleDialogEdit","_this5","handleDelete","_this6","$confirm","confirmButtonText","cancelButtonText","catch","handleSetMenu","_this7","tree","dialogSetMenuVisible","handleDialogSetAuth","_this8","sels","concat","$refs","getCheckedKeys","getHalfCheckedKeys","ids","map","item","join","rid","fmtStatus","row","column","status","property","fmtMenus","menus","length","str","name","defaultProps","children","label","statusOptions","326","render","_vm","_h","$createElement","_c","_self","staticStyle","text-align","attrs","span","margin","on","click","_v","width","prop","formatter","fixed","scopedSlots","_u","key","fn","scope","$event","staticClass","current-page","page-size","layout","background","size-change","current-change","update:currentPage","title","visible","update:visible","ref","model","label-position","auto-complete","callback","$$v","$set","expression","placeholder","_l","slot","show-checkbox","default-expand-all","node-key","highlight-current","props","staticRenderFns","esExports"],"mappings":"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","file":"js/12.js?4de23cc4c60a097b8f41","sourcesContent":["webpackJsonp([12],{\n\n/***/ 259:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Role_vue__ = __webpack_require__(297);\n/* empty harmony namespace reexport */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7e78340a_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Role_vue__ = __webpack_require__(326);\nvar normalizeComponent = __webpack_require__(23)\n/* script */\n\n\n/* template */\n\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Role_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_7e78340a_hasScoped_false_buble_transforms_node_modules_vue_loader_lib_selector_type_template_index_0_Role_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ 275:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return getRoleList; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getAllRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return updateRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return setRoleMenu; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return insertRole; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return deleteRole; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_axios__);\n\n\nvar base = '/api/role';\n\nvar getRoleList = function getRoleList(params) {\n    // let url = base+\"/list?pageNum=\"+params.pageNum+\"&\"\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(base + '/list', { params: params }).then(function (res) {\n        return res.data;\n    });\n};\n\nvar getAllRole = function getAllRole(params) {\n    // let url = base+\"/list?pageNum=\"+params.pageNum+\"&\"\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(base + '/all', { params: params }).then(function (res) {\n        return res.data;\n    });\n};\n\nvar updateRole = function updateRole(params) {\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(base + '/update', params).then(function (res) {\n        return res.data;\n    });\n};\n\nvar setRoleMenu = function setRoleMenu(params) {\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(base + '/menu/set', params).then(function (res) {\n        return res.data;\n    });\n};\n\nvar insertRole = function insertRole(params) {\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.post(base + '/add', params).then(function (res) {\n        return res.data;\n    });\n};\n\nvar deleteRole = function deleteRole(params) {\n    return __WEBPACK_IMPORTED_MODULE_0_axios___default.a.get(base + \"/\" + params.id + '/delete').then(function (res) {\n        return res.data;\n    });\n};\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify__ = __webpack_require__(57);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__api_role__ = __webpack_require__(275);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__api_menu__ = __webpack_require__(108);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    created: function created() {\n        var _this = this;\n\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"a\" /* getRoleList */])({\n            pageNum: this.pageNum,\n            pageSize: this.pageSize\n        }).then(function (res) {\n            _this.roles = res.data.list;\n            _this.pageNum = res.data.pageNum;\n            _this.pageSize = res.data.pageSize;\n            _this.total = res.data.total;\n        });\n    },\n\n    methods: {\n        loadRoleList: function loadRoleList() {\n            var _this2 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"a\" /* getRoleList */])({\n                pageNum: this.pageNum,\n                pageSize: this.pageSize\n            }).then(function (res) {\n                _this2.roles = res.data.list;\n                _this2.pageNum = res.data.pageNum;\n                _this2.pageSize = res.data.pageSize;\n                _this2.total = res.data.total;\n            });\n        },\n        handleSizeChange: function handleSizeChange(val) {\n            console.log('\\u6BCF\\u9875 ' + val + ' \\u6761');\n        },\n\n        //响应分页点击事件\n        handleCurrentChange: function handleCurrentChange(val) {\n            var _this3 = this;\n\n            this.pageNum = val;\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"a\" /* getRoleList */])({\n                pageNum: this.pageNum,\n                pageSize: this.pageSize\n            }).then(function (res) {\n                _this3.roles = res.data.list;\n                // this.pageNum=res.data.pageNum;\n                // this.pageSize=res.data.pageSize;\n                _this3.total = res.data.total;\n            });\n        },\n        handleInsert: function handleInsert() {\n            this.dialogInsertVisible = true;\n            this.currentRole = {};\n        },\n\n        //执行新增操作\n        handleDialogInsert: function handleDialogInsert() {\n            var _this4 = this;\n\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"b\" /* insertRole */])(this.currentRole).then(function (res) {\n                _this4.dialogInsertVisible = false;\n                var meta = res.meta,\n                    data = res.data;\n\n                if (meta.success === false) {\n                    _this4.$message.error(meta.message);\n                } else {\n                    _this4.$message({\n                        message: \"操作成功\",\n                        type: 'success'\n                    });\n                    _this4.loadRoleList();\n                    console.log(_this4.currentRole);\n                    _this4.currentRole = {};\n                }\n            });\n        },\n\n        //响应打开编辑对话框事件\n        handleEdit: function handleEdit(val) {\n            this.currentRole = JSON.parse(__WEBPACK_IMPORTED_MODULE_0_H_git_workspace_e_manage_node_modules_babel_runtime_core_js_json_stringify___default()(val));\n            this.dialogEditVisible = true;\n        },\n\n        //执行修改操作\n        handleDialogEdit: function handleDialogEdit() {\n            var _this5 = this;\n\n            // let _this = this;\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"c\" /* updateRole */])(this.currentRole).then(function (res) {\n                _this5.dialogEditVisible = false;\n                var meta = res.meta,\n                    data = res.data;\n\n                if (meta.success === false) {\n                    _this5.$message.error(meta.message);\n                } else {\n                    _this5.$message({\n                        message: \"操作成功\",\n                        type: 'success'\n                    });\n                    _this5.loadRoleList();\n                    console.log(_this5.currentRole);\n                    _this5.currentRole = {};\n                }\n            });\n        },\n\n        //响应删除事件\n        handleDelete: function handleDelete(val) {\n            var _this6 = this;\n\n            this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(function () {\n                __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"d\" /* deleteRole */])({\n                    id: val.id\n                }).then(function (res) {\n                    var meta = res.meta,\n                        data = res.data;\n\n                    if (meta.success === false) {\n                        _this6.$message.error(meta.message);\n                    } else {\n                        _this6.$message({\n                            message: \"删除成功\",\n                            type: 'success'\n                        });\n                        _this6.loadRoleList();\n                    }\n                });\n            }).catch(function () {\n                _this6.$message({\n                    type: 'info',\n                    message: '已取消删除'\n                });\n            });\n        },\n        handleSetMenu: function handleSetMenu(val) {\n            var _this7 = this;\n\n            this.currentRole = val;\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__api_menu__[\"b\" /* getAllMenuTree */])().then(function (res) {\n                _this7.tree = res.data;\n                // this.pageNum=res.data.pageNum;\n                // this.pageSize=res.data.pageSize;\n                // this.roleCheckboxInit();\n                _this7.dialogSetMenuVisible = true;\n            });\n        },\n        handleDialogSetAuth: function handleDialogSetAuth() {\n            var _this8 = this;\n\n            this.sels = this.sels.concat(this.$refs.tree.getCheckedKeys());\n            this.sels = this.sels.concat(this.$refs.tree.getHalfCheckedKeys());\n            var ids = this.sels.map(function (item) {\n                return item;\n            }).join();\n            __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__api_role__[\"e\" /* setRoleMenu */])({\n                ids: ids,\n                rid: this.currentRole.id\n            }).then(function (res) {\n                _this8.dialogSetMenuVisible = false;\n                var meta = res.meta,\n                    data = res.data;\n\n                if (meta.success === false) {\n                    _this8.$message.error(meta.message);\n                } else {\n                    _this8.$message({\n                        message: \"操作成功\",\n                        type: 'success'\n                    });\n                    _this8.loadRoleList();\n                    _this8.sels = [];\n                    _this8.currentRole = {};\n                }\n            });\n        },\n        fmtStatus: function fmtStatus(row, column) {\n            var status = row[column.property];\n            if (status == 2) {\n                return '禁用';\n            } else if (status == 1) {\n                return '可用';\n            }\n        },\n        fmtMenus: function fmtMenus(row, column) {\n            var menus = row[column.property];\n            /* 这里的 if(arr === undefined)\n             * 是根据自己的需求，决定arr长度为0时的判断条件\n             * 可以和这个不同\n             */\n            if (menus.length === 0) {\n                return '无';\n            } else {\n                var str = \"\";\n                for (var i = 0; i < menus.length; i++) {\n                    if (i === 0) {\n                        str += menus[i].name;\n                    } else {\n                        str += \",\" + menus[i].name;\n                    }\n                }\n                return str;\n            }\n        }\n    },\n    data: function data() {\n        return {\n            pageNum: 1,\n            total: 0,\n            pageSize: 5,\n            roles: [],\n            tree: [],\n            //树控件的映射\n            defaultProps: {\n                children: 'children',\n                label: 'name'\n            },\n            dialogEditVisible: false,\n            dialogInsertVisible: false,\n            dialogSetMenuVisible: false,\n            currentRole: {},\n            statusOptions: [{\n                value: 1,\n                label: '可用'\n            }, {\n                value: 2,\n                label: '禁用'\n            }],\n            sels: []\n        };\n    }\n});\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":24}},[_c('el-button',{staticStyle:{\"margin\":\"7px\"},on:{\"click\":_vm.handleInsert}},[_vm._v(\"添加角色\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.roles}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"代号\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"nameZh\",\"label\":\"名字\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"是否可用\",\"width\":\"180\",\"formatter\":_vm.fmtStatus}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"menus\",\"label\":\"菜单\",\"formatter\":_vm.fmtMenus}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleSetMenu(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.pageNum=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改\",\"visible\":_vm.dialogEditVisible},on:{\"update:visible\":function($event){_vm.dialogEditVisible=$event}}},[_c('el-form',{ref:\"currentRoleEditForm\",attrs:{\"model\":_vm.currentRole,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"代号\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.name),callback:function ($$v) {_vm.$set(_vm.currentRole, \"name\", $$v)},expression:\"currentRole.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.nameZh),callback:function ($$v) {_vm.$set(_vm.currentRole, \"nameZh\", $$v)},expression:\"currentRole.nameZh\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否可用\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.currentRole.status),callback:function ($$v) {_vm.$set(_vm.currentRole, \"status\", $$v)},expression:\"currentRole.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogEditVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogEdit}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.dialogInsertVisible},on:{\"update:visible\":function($event){_vm.dialogInsertVisible=$event}}},[_c('el-form',{ref:\"currentRoleInsertForm\",attrs:{\"model\":_vm.currentRole,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"代号\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.name),callback:function ($$v) {_vm.$set(_vm.currentRole, \"name\", $$v)},expression:\"currentRole.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.nameZh),callback:function ($$v) {_vm.$set(_vm.currentRole, \"nameZh\", $$v)},expression:\"currentRole.nameZh\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否可用\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.currentRole.status),callback:function ($$v) {_vm.$set(_vm.currentRole, \"status\", $$v)},expression:\"currentRole.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogInsertVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogInsert}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.dialogSetMenuVisible},on:{\"update:visible\":function($event){_vm.dialogSetMenuVisible=$event}}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.tree,\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.defaultProps}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogSetMenuVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogSetAuth}},[_vm._v(\"分配权限\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// js/12.js?4de23cc4c60a097b8f41","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Role.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7e78340a\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Role.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Role.vue\n// module id = 259\n// module chunks = 12","import axios from 'axios';\r\n\r\nlet base = '/api/role'\r\n\r\nexport const getRoleList = params => {\r\n    // let url = base+\"/list?pageNum=\"+params.pageNum+\"&\"\r\n    return axios.get(base + '/list', { params: params }).then(\r\n        res => res.data);\r\n}\r\n\r\nexport const getAllRole = params => {\r\n    // let url = base+\"/list?pageNum=\"+params.pageNum+\"&\"\r\n    return axios.get(base + '/all', { params: params }).then(\r\n        res => res.data);\r\n}\r\n\r\nexport const updateRole = params => {\r\n    return axios.post(base + '/update', params).then(\r\n        res => res.data);\r\n}\r\n\r\nexport const setRoleMenu = params => {\r\n    return axios.post(base + '/menu/set', params).then(\r\n        res => res.data);\r\n}\r\n\r\n\r\nexport const insertRole = params => {\r\n    return axios.post(base + '/add', params).then(\r\n        res => res.data);\r\n}\r\n\r\nexport const deleteRole = params => {\r\n    return axios.get(base + \"/\" + params.id + '/delete').then(\r\n        res => res.data);\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/role.js","<template>\r\n<div><el-col :span=\"24\" style=\"text-align:right;\">\r\n <el-button style=\"margin:7px;\" @click=\"handleInsert\">添加角色</el-button>\r\n </el-col>\r\n <el-table\r\n      :data=\"roles\"\r\n      style=\"width: 100%\">\r\n      <el-table-column\r\n      prop=\"name\"\r\n      label=\"代号\"\r\n      width=\"180\">\r\n    </el-table-column>\r\n      <el-table-column\r\n        prop=\"nameZh\"\r\n        label=\"名字\"\r\n        width=\"180\">\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"status\"\r\n        label=\"是否可用\"\r\n        width=\"180\"\r\n        :formatter=\"fmtStatus\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n        prop=\"menus\"\r\n        label=\"菜单\"\r\n        :formatter=\"fmtMenus\"\r\n        >\r\n      </el-table-column>\r\n      <el-table-column\r\n      fixed=\"right\"\r\n      label=\"操作\"\r\n      width=\"100\">\r\n      <template slot-scope=\"scope\">\r\n        <el-button @click=\"handleEdit(scope.row)\" type=\"text\" >编辑</el-button>\r\n        <el-button @click=\"handleDelete(scope.row)\" type=\"text\" >删除</el-button>\r\n        <el-button @click=\"handleSetMenu(scope.row)\" type=\"text\" >分配权限</el-button>\r\n      </template>\r\n</el-table-column>\r\n</el-table>\r\n<div class=\"block\">\r\n    <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page.sync=\"pageNum\" :page-size=\"pageSize\" layout=\"total, prev, pager, next\" :total=\"total\" background>\r\n    </el-pagination>\r\n</div>\r\n\r\n<!--修改对话框-->\r\n<el-dialog title=\"修改\" :visible.sync=\"dialogEditVisible\">\r\n    <el-form :model=\"currentRole\" ref=\"currentRoleEditForm\" label-position=\"left\">\r\n        <el-form-item label=\"代号\">\r\n            <el-input v-model=\"currentRole.name\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"名字\">\r\n            <el-input v-model=\"currentRole.nameZh\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否可用\">\r\n            <el-select v-model=\"currentRole.status\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in statusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogEditVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleDialogEdit\">确 定</el-button>\r\n    </div>\r\n</el-dialog>\r\n<!--修改对话框结束-->\r\n\r\n<!--新增对话框-->\r\n<el-dialog title=\"新增\" :visible.sync=\"dialogInsertVisible\">\r\n    <el-form :model=\"currentRole\" ref=\"currentRoleInsertForm\" label-position=\"left\">\r\n        <el-form-item label=\"代号\">\r\n            <el-input v-model=\"currentRole.name\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"名字\">\r\n            <el-input v-model=\"currentRole.nameZh\" auto-complete=\"off\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"是否可用\">\r\n            <el-select v-model=\"currentRole.status\" placeholder=\"请选择\">\r\n                <el-option v-for=\"item in statusOptions\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\">\r\n                </el-option>\r\n            </el-select>\r\n        </el-form-item>\r\n    </el-form>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogInsertVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleDialogInsert\">确 定</el-button>\r\n    </div>\r\n</el-dialog>\r\n<!--新增对话框结束-->\r\n\r\n\r\n<!--分配权限对话框-->\r\n<el-dialog title=\"分配权限\" :visible.sync=\"dialogSetMenuVisible\">\r\n    <el-tree :data=\"tree\" show-checkbox default-expand-all node-key=\"id\" ref=\"tree\" highlight-current :props=\"defaultProps\">\r\n    </el-tree>\r\n    <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"dialogSetMenuVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleDialogSetAuth\">分配权限</el-button>\r\n    </div>\r\n</el-dialog>\r\n<!--修改对话框结束-->\r\n\r\n</div>\r\n</template>\r\n\r\n<script>\r\n    import {\r\n        getRoleList,\r\n        updateRole,\r\n        insertRole,\r\n        deleteRole,\r\n        setRoleMenu\r\n    } from '../api/role';\r\n    import {\r\n        getAllMenuTree\r\n    } from '../api/menu';\r\n    export default {\r\n        created() {\r\n            getRoleList({\r\n                pageNum: this.pageNum,\r\n                pageSize: this.pageSize\r\n            }).then(res => {\r\n                this.roles = res.data.list;\r\n                this.pageNum = res.data.pageNum;\r\n                this.pageSize = res.data.pageSize;\r\n                this.total = res.data.total;\r\n            });\r\n        },\r\n        methods: {\r\n            loadRoleList() {\r\n                getRoleList({\r\n                    pageNum: this.pageNum,\r\n                    pageSize: this.pageSize\r\n                }).then(res => {\r\n                    this.roles = res.data.list;\r\n                    this.pageNum = res.data.pageNum;\r\n                    this.pageSize = res.data.pageSize;\r\n                    this.total = res.data.total;\r\n                });\r\n            },\r\n            handleSizeChange(val) {\r\n                console.log(`每页 ${val} 条`);\r\n            },\r\n            //响应分页点击事件\r\n            handleCurrentChange(val) {\r\n                this.pageNum = val;\r\n                getRoleList({\r\n                    pageNum: this.pageNum,\r\n                    pageSize: this.pageSize\r\n                }).then(res => {\r\n                    this.roles = res.data.list;\r\n                    // this.pageNum=res.data.pageNum;\r\n                    // this.pageSize=res.data.pageSize;\r\n                    this.total = res.data.total;\r\n                });\r\n            },\r\n            handleInsert() {\r\n                this.dialogInsertVisible = true;\r\n                this.currentRole = {};\r\n            },\r\n            //执行新增操作\r\n            handleDialogInsert() {\r\n                insertRole(this.currentRole).then(res => {\r\n                    this.dialogInsertVisible = false;\r\n                    let {\r\n                        meta,\r\n                        data\r\n                    } = res;\r\n                    if (meta.success === false) {\r\n                        this.$message.error(meta.message);\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"操作成功\",\r\n                            type: 'success'\r\n                        });\r\n                        this.loadRoleList();\r\n                        console.log(this.currentRole);\r\n                        this.currentRole = {};\r\n                    }\r\n                });\r\n            },\r\n            //响应打开编辑对话框事件\r\n            handleEdit(val) {\r\n                this.currentRole = JSON.parse(JSON.stringify(val));\r\n                this.dialogEditVisible = true;\r\n            },\r\n            //执行修改操作\r\n            handleDialogEdit() {\r\n                // let _this = this;\r\n                updateRole(this.currentRole).then(res => {\r\n                    this.dialogEditVisible = false;\r\n                    let {\r\n                        meta,\r\n                        data\r\n                    } = res;\r\n                    if (meta.success === false) {\r\n                        this.$message.error(meta.message);\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"操作成功\",\r\n                            type: 'success'\r\n                        });\r\n                        this.loadRoleList();\r\n                        console.log(this.currentRole);\r\n                        this.currentRole = {};\r\n                    }\r\n                });\r\n            },\r\n            //响应删除事件\r\n            handleDelete(val) {\r\n                this.$confirm('此操作将永久删除该角色, 是否继续?', '提示', {\r\n                    confirmButtonText: '确定',\r\n                    cancelButtonText: '取消',\r\n                    type: 'warning'\r\n                }).then(() => {\r\n                    deleteRole({\r\n                        id: val.id\r\n                    }).then(res => {\r\n                        let {\r\n                            meta,\r\n                            data\r\n                        } = res;\r\n                        if (meta.success === false) {\r\n                            this.$message.error(meta.message);\r\n                        } else {\r\n                            this.$message({\r\n                                message: \"删除成功\",\r\n                                type: 'success'\r\n                            });\r\n                            this.loadRoleList();\r\n                        }\r\n                    });\r\n                }).catch(() => {\r\n                    this.$message({\r\n                        type: 'info',\r\n                        message: '已取消删除'\r\n                    });\r\n                });\r\n            },\r\n            handleSetMenu(val) {\r\n                this.currentRole = val;\r\n                getAllMenuTree().then(res => {\r\n                    this.tree = res.data;\r\n                    // this.pageNum=res.data.pageNum;\r\n                    // this.pageSize=res.data.pageSize;\r\n                    // this.roleCheckboxInit();\r\n                    this.dialogSetMenuVisible = true;\r\n                });\r\n            },\r\n            handleDialogSetAuth() {\r\n                this.sels = this.sels.concat(this.$refs.tree.getCheckedKeys());\r\n                this.sels = this.sels.concat(this.$refs.tree.getHalfCheckedKeys());\r\n                var ids = this.sels.map(item => item).join();\r\n                setRoleMenu({\r\n                    ids: ids,\r\n                    rid: this.currentRole.id\r\n                }).then(res => {\r\n                    this.dialogSetMenuVisible = false;\r\n                    let {\r\n                        meta,\r\n                        data\r\n                    } = res;\r\n                    if (meta.success === false) {\r\n                        this.$message.error(meta.message);\r\n                    } else {\r\n                        this.$message({\r\n                            message: \"操作成功\",\r\n                            type: 'success'\r\n                        });\r\n                        this.loadRoleList();\r\n                        this.sels = [];\r\n                        this.currentRole = {};\r\n                    }\r\n                });\r\n\r\n            },\r\n            fmtStatus(row, column) {\r\n                const status = row[column.property]\r\n                if (status == 2) {\r\n                    return '禁用';\r\n                } else if (status == 1) {\r\n                    return '可用';\r\n                }\r\n            },\r\n            fmtMenus(row, column) {\r\n                const menus = row[column.property]\r\n                    /* 这里的 if(arr === undefined)\r\n                     * 是根据自己的需求，决定arr长度为0时的判断条件\r\n                     * 可以和这个不同\r\n                     */\r\n                if (menus.length === 0) {\r\n                    return '无'\r\n                } else {\r\n                    let str = \"\"\r\n                    for (var i = 0; i < menus.length; i++) {\r\n                        if (i === 0) {\r\n                            str += menus[i].name;\r\n                        } else {\r\n                            str += \",\" + menus[i].name;\r\n                        }\r\n                    }\r\n                    return str;\r\n                }\r\n            },\r\n        },\r\n        data() {\r\n            return {\r\n                pageNum: 1,\r\n                total: 0,\r\n                pageSize: 5,\r\n                roles: [],\r\n                tree: [],\r\n                //树控件的映射\r\n                defaultProps: {\r\n                    children: 'children',\r\n                    label: 'name'\r\n                },\r\n                dialogEditVisible: false,\r\n                dialogInsertVisible: false,\r\n                dialogSetMenuVisible: false,\r\n                currentRole: {},\r\n                statusOptions: [{\r\n                    value: 1,\r\n                    label: '可用'\r\n                }, {\r\n                    value: 2,\r\n                    label: '禁用'\r\n                }],\r\n                sels: []\r\n            }\r\n        }\r\n    }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Role.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-col',{staticStyle:{\"text-align\":\"right\"},attrs:{\"span\":24}},[_c('el-button',{staticStyle:{\"margin\":\"7px\"},on:{\"click\":_vm.handleInsert}},[_vm._v(\"添加角色\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.roles}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"代号\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"nameZh\",\"label\":\"名字\",\"width\":\"180\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"是否可用\",\"width\":\"180\",\"formatter\":_vm.fmtStatus}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"menus\",\"label\":\"菜单\",\"formatter\":_vm.fmtMenus}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleEdit(scope.row)}}},[_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.handleSetMenu(scope.row)}}},[_vm._v(\"分配权限\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pageNum,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next\",\"total\":_vm.total,\"background\":\"\"},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.pageNum=$event}}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改\",\"visible\":_vm.dialogEditVisible},on:{\"update:visible\":function($event){_vm.dialogEditVisible=$event}}},[_c('el-form',{ref:\"currentRoleEditForm\",attrs:{\"model\":_vm.currentRole,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"代号\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.name),callback:function ($$v) {_vm.$set(_vm.currentRole, \"name\", $$v)},expression:\"currentRole.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.nameZh),callback:function ($$v) {_vm.$set(_vm.currentRole, \"nameZh\", $$v)},expression:\"currentRole.nameZh\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否可用\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.currentRole.status),callback:function ($$v) {_vm.$set(_vm.currentRole, \"status\", $$v)},expression:\"currentRole.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogEditVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogEdit}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.dialogInsertVisible},on:{\"update:visible\":function($event){_vm.dialogInsertVisible=$event}}},[_c('el-form',{ref:\"currentRoleInsertForm\",attrs:{\"model\":_vm.currentRole,\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"label\":\"代号\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.name),callback:function ($$v) {_vm.$set(_vm.currentRole, \"name\", $$v)},expression:\"currentRole.name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名字\"}},[_c('el-input',{attrs:{\"auto-complete\":\"off\"},model:{value:(_vm.currentRole.nameZh),callback:function ($$v) {_vm.$set(_vm.currentRole, \"nameZh\", $$v)},expression:\"currentRole.nameZh\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否可用\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.currentRole.status),callback:function ($$v) {_vm.$set(_vm.currentRole, \"status\", $$v)},expression:\"currentRole.status\"}},_vm._l((_vm.statusOptions),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogInsertVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogInsert}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"分配权限\",\"visible\":_vm.dialogSetMenuVisible},on:{\"update:visible\":function($event){_vm.dialogSetMenuVisible=$event}}},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.tree,\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"node-key\":\"id\",\"highlight-current\":\"\",\"props\":_vm.defaultProps}}),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogSetMenuVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.handleDialogSetAuth}},[_vm._v(\"分配权限\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7e78340a\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Role.vue\n// module id = 326\n// module chunks = 12"],"sourceRoot":""}